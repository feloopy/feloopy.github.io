<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Support FelooPy</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Chakra Petch', sans-serif;
      background: #f9fafb;
      margin: 0;
      padding: 0;
      color: #111827;
    }
    /* Hero Section Styles */
    .feloopy-main-title {
      position: relative;
      font-family: 'Chakra Petch', sans-serif;
      font-size: 2.5em;
      font-weight: bold;
      text-align: center;
      margin: 50px 0;
      padding: 20px;
      background: linear-gradient(45deg, #3b3b3c, #53be2c);
      background-size: 200% 200%;
      animation: gradientAnimation 2s linear infinite;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    @keyframes gradientAnimation {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    .container {
      max-width: 960px;
      margin: -30px auto 40px;
      padding: 30px;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 10px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.06);
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
    }
    .card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    .card h3 {
      color: #1d4ed8;
      margin-bottom: 8px;
      font-size: 1rem;
      font-weight: 600;
    }
    .value {
      font-size: 1.75rem;
      font-weight: 700;
      color: #111827;
    }
    .progress-container {
      background: #e5e7eb;
      border-radius: 4px;
      height: 8px;
      overflow: hidden;
      margin-top: 10px;
    }
    .progress-bar {
      width: 0;
      height: 100%;
      background: #10b981;
      transform-origin: left;
      animation: fillBar 2s ease-out forwards;
    }
    @keyframes fillBar {
      to { width: var(--pct); }
    }
    .cta-group {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 30px 0;
      justify-content: center;
    }
    .cta {
      display: inline-flex;
      align-items: center;
      padding: 12px 20px;
      color: #fff;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 600;
      transition: background 0.2s;
    }
    .cta i {
      margin-right: 8px;
      font-size: 1.2rem;
    }
    .cta.github { background: #24292f; }
    .cta.github:hover { background: #1b1f23; }
    .cta.youtube { background: #ff0000; }
    .cta.youtube:hover { background: #e60000; }
    .cta.linkedin { background: #0077b5; }
    .cta.linkedin:hover { background: #005582; }
    .cta.donate { background: #28a745; }
    .cta.donate:hover { background: #218838; }

    .message-box {
      margin-top: 30px;
      padding: 16px;
      border-radius: 6px;
      font-weight: 500;
      font-size: 1rem;
    }
    .box-yellow { background: #fef3c7; border-left: 6px solid #f59e0b; }
    .box-blue { background: #e0f2fe; border-left: 6px solid #0284c7; }
    .box-green { background: #dcfce7; border-left: 6px solid #10b981; }
    .box-red { background: #fee2e2; border-left: 6px solid #dc2626; }
  </style>
</head>
<body>

  <section class="feloopy-main-title">
    <div class="animating-text">
      <span>Fuel FelooPy‚Äôs Future</span>
    </div>
  </section>

  <div class="container">
    <div class="stats">
      <div class="card"><h3>Today‚Äôs Downloads</h3><div id="day" class="value">‚Äì</div></div>
      <div class="card"><h3>Weekly Downloads</h3><div id="week" class="value">‚Äì</div></div>
      <div class="card"><h3>Monthly Downloads</h3><div id="month" class="value">‚Äì</div></div>
      <div class="card"><h3>Six Months Downloads</h3><div id="total" class="value">‚Äì</div></div>
      <div class="card"><h3>Last Commit</h3><div id="last-commit" class="value">‚Äì</div></div>
      <div class="card"><h3>GitHub Stars</h3><div id="stars" class="value">‚Äì</div></div>
      <div class="card">
        <h3>Star-to-Download %</h3>
        <div id="sd-pct" class="value">‚Äì%</div>
        <div class="progress-container"><div id="sd-bar" class="progress-bar"></div></div>
      </div>
    </div>

    <div class="message-box box-yellow">
      ‚≠ê <strong>Only <span id="stars-count">‚Äì</span> (<span id="engagement-ratio">--%</span>) of our <span id="user-count">--</span> users in the past 6 months have starred this project.</strong>
      <br/>The next <em>star</em> could be the next feature, the next bug fix, or the next maintenance release. Every click counts!
    </div>

    <div class="message-box box-blue">
      üìâ <span id="commit-warning">Checking last commit activity‚Ä¶</span>
    </div>

    <div class="message-box box-green">
      üí° <strong>Quick tip:</strong> GitHub stars are tax-free! Just one click shows your support and helps us grow.
    </div>

    <div class="message-box box-green">
      üé• <strong>Subscribe on YouTube:</strong> Stay updated with our latest tutorials and features. 
    </div>

    <div class="message-box box-green">
      üíº <strong>Follow on LinkedIn:</strong> Join our professional network to get insights, updates, and opportunities.
    </div>

    <div class="message-box box-green">
      ‚ù§Ô∏è <strong>Donate to FelooPy:</strong> Your contributions help us maintain and develop the project. Donors may be acknowledged in our releases and documentation per their request.
    </div>

    <div class="message-box box-red" id="content-box">
      üôå <strong>Engage with Our Latest Content:</strong>
      <ul>
        <li>YouTube: <a href="https://www.youtube.com/@feloopy" target="_blank" rel="noopener noreferrer">Latest Videos</a></li>
        <li>LinkedIn: <a href="https://www.linkedin.com/company/feloopy" target="_blank" rel="noopener noreferrer">Latest Posts</a></li>
      </ul>
      Your feedback help us understand what content resonates with you!
    </div>

    <div class="cta-group" role="group" aria-label="Support and follow actions">
      <a class="cta github" href="https://github.com/feloopy/feloopy" target="_blank" rel="noopener noreferrer" aria-label="Star on GitHub">
        <i class="fab fa-github" aria-hidden="true"></i>
        Star on GitHub
      </a>
      <a class="cta youtube" href="https://www.youtube.com/@feloopy" target="_blank" rel="noopener noreferrer" aria-label="Subscribe on YouTube">
        <i class="fab fa-youtube" aria-hidden="true"></i>
        Subscribe on YouTube
      </a>
      <a class="cta linkedin" href="https://www.linkedin.com/company/feloopy" target="_blank" rel="noopener noreferrer" aria-label="Follow on LinkedIn">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
        Follow on LinkedIn
      </a>
      <a class="cta donate" href="mailto:feloopy@gmail.com?subject=Donation%20to%20FelooPy&body=Hi%20FelooPy%20Team,%0A%0AI%20would%20like%20to%20support%20your%20project%20with%20a%20donation.%0A%0APlease%20let%20me%20know%20how%20I%20can%20contribute.%0A%0ABest regards," aria-label="Donate to FelooPy">
        <i class="fas fa-heart" aria-hidden="true"></i>
        Donate to FelooPy
      </a>
    </div>

  </div>

  <script>
    function animateNumber(el, start, end, duration = 1500) {
      const range = end - start;
      let startTime = null;
      function step(timestamp) {
        if (!startTime) startTime = timestamp;
        const progress = Math.min((timestamp - startTime) / duration, 1);
        const current = Math.floor(start + progress * range);
        el.textContent = el.id.includes('-pct') ? current + '%' : current.toLocaleString();
        if (progress < 1) requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }

    async function render() {
      try {
        const res = await fetch('stats.json');
        if (!res.ok) throw new Error('Failed to fetch stats.json');
        const s = await res.json();

        // Stats rendering (same as before)
        ['day', 'week', 'month', 'total', 'stars'].forEach(k =>
          animateNumber(document.getElementById(k), 0, s[k] || 0)
        );

        const starPct = s.star_pct || 0;
        animateNumber(document.getElementById('sd-pct'), 0, starPct);
        document.getElementById('sd-bar').style.setProperty('--pct', starPct + '%');

        const lastCommit = s.days_since_push;
        const lastCommitEl = document.getElementById('last-commit');
        lastCommitEl.textContent = lastCommit != null ? `${lastCommit} days ago` : 'N/A';

        const commitBox = document.getElementById('commit-warning');
        if (lastCommit != null) {
          if (lastCommit > 90) {
            commitBox.innerHTML = `‚è∞ <strong>Too much time since the last commit?</strong> It‚Äôs been <strong>${lastCommit} days</strong>. This might mean the project is at risk of being discontinued. What happens then? ü§∑‚Äç‚ôÇÔ∏è`;
          } else {
            commitBox.innerHTML = `‚úÖ Last commit was just <strong>${lastCommit} days ago</strong>. All looks healthy!`;
          }
        } else {
          commitBox.textContent = 'Activity status unknown.';
        }

        const totalUsers = s.total || 0;
        const starCount = s.stars || 0;
        const ratioPct = (totalUsers > 0) ? ((starCount / totalUsers) * 100).toFixed(2) : '0.00';

        document.getElementById('stars-count').textContent = starCount.toLocaleString();
        document.getElementById('engagement-ratio').textContent = `${ratioPct}%`;
        document.getElementById('user-count').textContent = totalUsers.toLocaleString();

      } catch (error) {
        console.error('Error loading stats:', error);
        document.querySelectorAll('.value').forEach(el => el.textContent = '‚Äì');
        document.getElementById('commit-warning').textContent = 'Could not load activity data.';
      }
    }

    render();
  </script>
</body>
</html>
